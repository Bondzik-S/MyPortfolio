{"ast":null,"code":"import{Component}from'react';import Spiner from'../spiner/spiner';import ErrorMessage from'../errorMessage/errorMessage';import MarvelService from'../../services/MarvelService';import'./randomChar.scss';// import thor from '../../resources/img/thor.jpeg';\nimport mjolnir from'../../resources/img/mjolnir.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class RandomChar extends Component{constructor(){super(...arguments);this.state={char:{},loading:true,error:false};this.marvelService=new MarvelService();// Коли сторінка завантажена, спінер переходить в позицію false (вимикається)\nthis.onCharLoaded=char=>{this.setState({char,loading:false});};this.onCharLoading=()=>{this.setState({loading:true});};this.onError=()=>{this.setState({loading:false,error:true});};this.updateChar=()=>{const id=Math.floor(Math.random()*(1011400-1011000)+1011000);this.onCharLoading();this.marvelService.getCharacter(id).then(this.onCharLoaded).catch(this.onError);};}componentDidMount(){// хук\nthis.updateChar();// this.timerId = setInterval(this.updateChar, 3000);\n}componentWillUnmount(){// хук\nclearInterval(this.timerId);}render(){const{char,loading,error}=this.state;const errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;const spinner=loading?/*#__PURE__*/_jsx(Spiner,{}):null;const content=!(loading||error)?/*#__PURE__*/_jsx(Viev,{char:char}):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar\",children:[errorMessage,spinner,content,/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__static\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"randomchar__title\",children:[\"Random character for today!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you want to get to know him better?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__title\",children:\"Or choose another one\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button button__main\",onClick:this.updateChar,children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"try it\"})}),/*#__PURE__*/_jsx(\"img\",{src:mjolnir,alt:\"mjolnir\",className:\"randomchar__decoration\"})]})]});}}const Viev=_ref=>{let{char}=_ref;const{name,description,thumbnail,homepage,wiki}=char;let imgStyle={'objectFit':'cover'};if(thumbnail==='http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg'){imgStyle={'objectFit':'contain'};}return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__block\",children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"Random character\",className:\"randomchar__img\",style:imgStyle}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__descr\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__btns\",children:[/*#__PURE__*/_jsx(\"a\",{href:homepage,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"homepage\"})}),/*#__PURE__*/_jsx(\"a\",{href:wiki,className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]});};export default RandomChar;","map":{"version":3,"names":["Component","Spiner","ErrorMessage","MarvelService","mjolnir","jsx","_jsx","jsxs","_jsxs","RandomChar","constructor","arguments","state","char","loading","error","marvelService","onCharLoaded","setState","onCharLoading","onError","updateChar","id","Math","floor","random","getCharacter","then","catch","componentDidMount","componentWillUnmount","clearInterval","timerId","render","errorMessage","spinner","content","Viev","className","children","onClick","src","alt","_ref","name","description","thumbnail","homepage","wiki","imgStyle","style","href"],"sources":["/Users/macbook/work/Marvel-site/marvel_starter/src/components/randomChar/RandomChar.js"],"sourcesContent":["import { Component } from 'react';\nimport Spiner from '../spiner/spiner';\nimport ErrorMessage from '../errorMessage/errorMessage';\nimport MarvelService from '../../services/MarvelService';\n\nimport './randomChar.scss';\n// import thor from '../../resources/img/thor.jpeg';\nimport mjolnir from '../../resources/img/mjolnir.png';\n\nclass RandomChar extends Component {\n\n    state = {\n        char: {},\n        loading: true,\n        error: false\n    }\n\n    marvelService = new MarvelService();\n\n    componentDidMount() { // хук\n        this.updateChar();\n        // this.timerId = setInterval(this.updateChar, 3000);\n    }\n\n    componentWillUnmount() { // хук\n        clearInterval(this.timerId);\n    }\n\n    // Коли сторінка завантажена, спінер переходить в позицію false (вимикається)\n    onCharLoaded = (char) => { \n        this.setState({\n            char, \n            loading: false\n        })\n    }\n\n    onCharLoading = () => {\n        this.setState({\n            loading: true\n        })\n    }\n\n    onError = () => {\n        this.setState({\n            loading: false,\n            error: true\n        })\n    }\n\n    updateChar = () => {\n        const id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\n        this.onCharLoading();\n        this.marvelService\n            .getCharacter(id)\n            .then(this.onCharLoaded)\n            .catch(this.onError);\n    }\n\n    render() {\n        const {char, loading, error} = this.state;\n        const errorMessage = error ? <ErrorMessage/> : null;\n        const spinner = loading ? <Spiner/> : null;\n        const content = !(loading || error) ? <Viev char = {char}/> : null;\n\n        return (\n            <div className=\"randomchar\">\n                {errorMessage}\n                {spinner}\n                {content}\n                <div className=\"randomchar__static\">\n                    <p className=\"randomchar__title\">\n                        Random character for today!<br/>\n                        Do you want to get to know him better?\n                    </p>\n                    <p className=\"randomchar__title\">\n                        Or choose another one\n                    </p>\n                    <button className=\"button button__main\" onClick={this.updateChar}>\n                        <div className=\"inner\">try it</div>\n                    </button>\n                    <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst Viev = ({char}) => {\n\n    const {name, description, thumbnail, homepage, wiki} = char;\n\n    let imgStyle = {'objectFit' : 'cover'};\n    if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\n        imgStyle = {'objectFit' : 'contain'};\n    }\n\n    return (\n        <div className=\"randomchar__block\">\n            <img src={thumbnail} alt=\"Random character\" className=\"randomchar__img\" style={imgStyle}/>\n            <div className=\"randomchar__info\">\n                <p className=\"randomchar__name\">{name}</p>\n                <p className=\"randomchar__descr\">\n                    {description}\n                </p>\n                <div className=\"randomchar__btns\">\n                    <a href={homepage} className=\"button button__main\">\n                        <div className=\"inner\">homepage</div>\n                    </a>\n                    <a href={wiki} className=\"button button__secondary\">\n                        <div className=\"inner\">Wiki</div>\n                    </a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default RandomChar;"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,aAAa,KAAM,8BAA8B,CAExD,MAAO,mBAAmB,CAC1B;AACA,MAAO,CAAAC,OAAO,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,UAAU,QAAS,CAAAT,SAAU,CAAAU,YAAA,WAAAC,SAAA,OAE/BC,KAAK,CAAG,CACJC,IAAI,CAAE,CAAC,CAAC,CACRC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,KACX,CAAC,MAEDC,aAAa,CAAG,GAAI,CAAAb,aAAa,CAAC,CAAC,CAWnC;AAAA,KACAc,YAAY,CAAIJ,IAAI,EAAK,CACrB,IAAI,CAACK,QAAQ,CAAC,CACVL,IAAI,CACJC,OAAO,CAAE,KACb,CAAC,CAAC,CACN,CAAC,MAEDK,aAAa,CAAG,IAAM,CAClB,IAAI,CAACD,QAAQ,CAAC,CACVJ,OAAO,CAAE,IACb,CAAC,CAAC,CACN,CAAC,MAEDM,OAAO,CAAG,IAAM,CACZ,IAAI,CAACF,QAAQ,CAAC,CACVJ,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IACX,CAAC,CAAC,CACN,CAAC,MAEDM,UAAU,CAAG,IAAM,CACf,KAAM,CAAAC,EAAE,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,EAAI,OAAO,CAAG,OAAO,CAAC,CAAG,OAAO,CAAC,CACpE,IAAI,CAACN,aAAa,CAAC,CAAC,CACpB,IAAI,CAACH,aAAa,CACbU,YAAY,CAACJ,EAAE,CAAC,CAChBK,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CACvBW,KAAK,CAAC,IAAI,CAACR,OAAO,CAAC,CAC5B,CAAC,EArCDS,iBAAiBA,CAAA,CAAG,CAAE;AAClB,IAAI,CAACR,UAAU,CAAC,CAAC,CACjB;AACJ,CAEAS,oBAAoBA,CAAA,CAAG,CAAE;AACrBC,aAAa,CAAC,IAAI,CAACC,OAAO,CAAC,CAC/B,CAgCAC,MAAMA,CAAA,CAAG,CACL,KAAM,CAACpB,IAAI,CAAEC,OAAO,CAAEC,KAAK,CAAC,CAAG,IAAI,CAACH,KAAK,CACzC,KAAM,CAAAsB,YAAY,CAAGnB,KAAK,cAAGT,IAAA,CAACJ,YAAY,GAAC,CAAC,CAAG,IAAI,CACnD,KAAM,CAAAiC,OAAO,CAAGrB,OAAO,cAAGR,IAAA,CAACL,MAAM,GAAC,CAAC,CAAG,IAAI,CAC1C,KAAM,CAAAmC,OAAO,CAAG,EAAEtB,OAAO,EAAIC,KAAK,CAAC,cAAGT,IAAA,CAAC+B,IAAI,EAACxB,IAAI,CAAIA,IAAK,CAAC,CAAC,CAAG,IAAI,CAElE,mBACIL,KAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,EACtBL,YAAY,CACZC,OAAO,CACPC,OAAO,cACR5B,KAAA,QAAK8B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/B/B,KAAA,MAAG8B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,6BACF,cAAAjC,IAAA,QAAI,CAAC,yCAEpC,EAAG,CAAC,cACJA,IAAA,MAAGgC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,uBAEjC,CAAG,CAAC,cACJjC,IAAA,WAAQgC,SAAS,CAAC,qBAAqB,CAACE,OAAO,CAAE,IAAI,CAACnB,UAAW,CAAAkB,QAAA,cAC7DjC,IAAA,QAAKgC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,QAAM,CAAK,CAAC,CAC/B,CAAC,cACTjC,IAAA,QAAKmC,GAAG,CAAErC,OAAQ,CAACsC,GAAG,CAAC,SAAS,CAACJ,SAAS,CAAC,wBAAwB,CAAC,CAAC,EACpE,CAAC,EACL,CAAC,CAEd,CACJ,CAEA,KAAM,CAAAD,IAAI,CAAGM,IAAA,EAAY,IAAX,CAAC9B,IAAI,CAAC,CAAA8B,IAAA,CAEhB,KAAM,CAACC,IAAI,CAAEC,WAAW,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,IAAI,CAAC,CAAGnC,IAAI,CAE3D,GAAI,CAAAoC,QAAQ,CAAG,CAAC,WAAW,CAAG,OAAO,CAAC,CACtC,GAAIH,SAAS,GAAK,qEAAqE,CAAE,CACrFG,QAAQ,CAAG,CAAC,WAAW,CAAG,SAAS,CAAC,CACxC,CAEA,mBACIzC,KAAA,QAAK8B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BjC,IAAA,QAAKmC,GAAG,CAAEK,SAAU,CAACJ,GAAG,CAAC,kBAAkB,CAACJ,SAAS,CAAC,iBAAiB,CAACY,KAAK,CAAED,QAAS,CAAC,CAAC,cAC1FzC,KAAA,QAAK8B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BjC,IAAA,MAAGgC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEK,IAAI,CAAI,CAAC,cAC1CtC,IAAA,MAAGgC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC3BM,WAAW,CACb,CAAC,cACJrC,KAAA,QAAK8B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BjC,IAAA,MAAG6C,IAAI,CAAEJ,QAAS,CAACT,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAC9CjC,IAAA,QAAKgC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,UAAQ,CAAK,CAAC,CACtC,CAAC,cACJjC,IAAA,MAAG6C,IAAI,CAAEH,IAAK,CAACV,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cAC/CjC,IAAA,QAAKgC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,MAAI,CAAK,CAAC,CAClC,CAAC,EACH,CAAC,EACL,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA9B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}